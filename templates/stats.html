{% extends 'base.html' %}

{% block title %}Gym Statistics{% endblock %}
{% block content %}
<div class="content">
    <h1 style="text-align: center">Stats</h1>
    <h2>Get a column of an table that is at all locations</h2>
    <table>
        <tr>
            {% if divColName is defined %}
                <th>{{divColName}}</th>
            {% endif %}
        </tr>
        {% if post != None %}
            {% for person in post %}
            <tr>
                <td>{{ person[0]}}</td>
            </tr>
            {% endfor %}
        {% endif %}
    </table>
    <div class="form">
        <form action="/stats" method="POST">
            <input type="text" name="div_table" placeholder="Table Name" id="content"><br>
            <input type="text" name="div_column" placeholder="Column Name" id="content"><br>
            <input type="submit" value="Submit">
        </form>
    </div>
    <h2>Count how many rows are in a table</h2>
    <table>
        <tr>
            <th>Number of Rows</th>
        </tr>
        <tr>
            {% if count is defined %}<td>{{ count[0] }}</td> {% endif %}
        </tr>
    </table>
    <div class="form">
        <form action="/stats" method="POST">
            <input type="text" name="table_name" placeholder="Table Name" id="content"><br>
            <input type="submit" value="Submit">
        </form>
    </div>
    <h2>Display all rows in a table</h2>
    <table>
        <tr>
            {% if colNames != None %}
                {% for col in colNames %}
                    <th>{{col[0]}}</th>
                {% endfor %}
            {% endif %}
        </tr>
        {% if table != None %}
            {% for row in table %}
                <tr>
                {% for col in row %}
                    <td>{{col}}</td>
                {% endfor %}
                </tr>
            {% endfor %}
        {% endif %}            
    </table>
    <div class="form">
        <form action="/stats" method="POST">
            <input type="text" name="table" placeholder="Table Name" id="content"><br>
            <input type="submit" value="Submit">
        </form>
    </div>
    <h2>Select a row from a table</h2>
    <table>
        <tr>
            {% if colName is defined %}<th>{{ colName }}</th> {% endif %}
        </tr>
        {% if cols != None %} 
            {% for column in cols %}
                <tr><td>{{column[0]}}</td></tr>
            {% endfor %}
        {% endif %}
    </table>
    <div class="form">
        <form action="/stats" method="POST">
            <input type="text" name="tableName" placeholder="Table Name" id="content"><br>
            <input type="text" name="column_name" placeholder="Column Name" id="content"><br>
            <input type="submit" value="Submit">
        </form>
    </div>
    <h2>Join Query</h2>
    <table>
        <tr>
            {% if joinColName != None %}
                {% for col in joinColName %}
                    <th>{{col[0]}}</th>
                {% endfor %}
            {% endif %}
        </tr>
        {% if join != None %}
            {% for row in join %}
            <tr>
            {% for element in row%}
                <td>{{ element }}</td>
            {% endfor %}    
            </tr>
            {%endfor%}
        {% endif %}
    </table>
    <div class="form">
        <form action="/stats" method="POST">
            <input type="text" name="join_table1" placeholder="Table Name" id="content"><br>
            <input type="text" name="join_table2" placeholder="Table Name" id="content"><br>
            <input type="text" name="join_col1" placeholder="Column Name" id="content"><br>
            <input type="text" name="join_col2" placeholder="Column Name" id="content"><br>
            <input type="submit" value="Submit">
        </form>
    </div>
    <h2>How many people have subscribed to each tier of subscription</h2>
    <table>
        <tr>
            <th>Sub ID</th>
            <th>Number of subscribers</th>
        </tr>
        {% for sub in subs %}
            <tr>
                <td>{{ sub[0] }}</td>
                <td>{{ sub[1] }}</td>
            </tr>
        {%endfor%}
    </table>
    <br>
</div>
{%endblock%}
